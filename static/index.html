<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.7, maximum-scale=0.7">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script defer src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <meta name="description" content="Gymial ist ein open-source Tool, das die Stundenpläne und Mensamenüs der KZO anzeigt.">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="theme-color" content="#333">
    <title>Gymial - der open-source KZO Stundenplan</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WYE0MDHZXP"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        if (self.location.hostname == "gymial.ch") {
            gtag('js', new Date());
            gtag('config', 'G-WYE0MDHZXP');
        }
    </script>
</head>
<body>
    <div id="scrollLimiter">
        <div id="selection">
            <span id="open-menu" class="buttonSpan color-svg round-linecap">
                <svg width="30" height="30">
                    <line x1="2" y1="5" x2="28" y2="5"></line>
                    <line x1="2" y1="15" x2="28" y2="15"></line>
                    <line x1="2" y1="25" x2="28" y2="25"></line>
                </svg>
            </span>
            <h1 id="current-class">C6c</h1>
            <div id="week-btns">
                <span id="forward-next-sem" class="buttonSpan color-svg round-linecap" style="display: none;">
                    <svg width="30" height="30">
                        <line x1="28" y1="15" x2="15" y2="5"></line>
                        <line x1="28" y1="15" x2="15" y2="25"></line>
                        <line x1="20" y1="15" x2="7" y2="5"></line>
                        <line x1="20" y1="15" x2="7" y2="25"></line>
                        <line x1="20" y1="15" x2="0" y2="15"></line>
                    </svg>
                </span>
                <span id="week-forward" class="buttonSpan color-svg round-linecap">
                    <svg width="30" height="30">
                        <line x1="28" y1="15" x2="15" y2="5"></line>
                        <line x1="28" y1="15" x2="15" y2="25"></line>
                        <line x1="28" y1="15" x2="0" y2="15"></line>
                    </svg>
                </span>
                <span id="today" class="buttonSpan color-svg">
                    <svg width="30" height="30">
                        <polygon points="28,5 28,29 2,29 2,5 6,5 6,7 4,7 4,27 26,27 26,7 24,7 24,5 "/>
                        <line x1="22" y1="2" x2="22" y2="10"/>
                        <line x1="10" y1="6" x2="20" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="10"/>
                    </svg>
                </span>
                <span id="week-back" class="buttonSpan color-svg round-linecap">
                    <svg width="30" height="30">
                        <line x1="2" y1="15" x2="15" y2="5"></line>
                        <line x1="2" y1="15" x2="15" y2="25"></line>
                        <line x1="2" y1="15" x2="30" y2="15"></line>
                    </svg>
                </span>
                <span id="backward-next-sem" class="buttonSpan color-svg round-linecap" style="display: none;">
                    <svg width="30" height="30">
                        <line x1="2" y1="15" x2="15" y2="5"></line>
                        <line x1="2" y1="15" x2="15" y2="25"></line>
                        <line x1="10" y1="15" x2="23" y2="5"></line>
                        <line x1="10" y1="15" x2="23" y2="25"></line>
                        <line x1="10" y1="15" x2="30" y2="15"></line>
                    </svg>
                </span>
                <span id="switch-matura-calc" class="buttonSpan color-svg">
                    <%= require("./btn-matura-calc.svg") %>
                </span>
                <span id="switch-grade-calc" class="buttonSpan color-svg">
                    <svg width="30" height="30">
                        <rect stroke="#fff" fill="none" transform="matrix(1 -0.2 0 1 0 0)" x="7" y="7.5" width="13" height="22"/>
                        <ellipse stroke="#fff" fill="none" transform="matrix(1 -0.2 0 1 0 0)" cx="13.5" cy="14" rx="4" ry="3"/>
                        <path stroke="#fff" fill="none" d="m7 28h18v-21h-5"/>
                     </svg>
                </span>
                <span id="grade-pluspoints" class="buttonSpan color-svg-fill">
                    <svg width="30" height="30">
                        <path stroke="none" fill="#fff" d="m14.4 19.6h-5.68v5.68h-2.34v-5.68h-5.68v-2.26h5.68v-5.68h2.34v5.68h5.68z"/>
                        <path stroke="none" fill="#fff" d="m28.8 13q0 1.4-.493 2.59-.479 1.18-1.35 2.06-1.09 1.09-2.57 1.64-1.48.536-3.74.536h-2.79v7.82h-2.79v-21h5.69q1.89 0 3.2.324 1.31.31 2.33.987 1.2.803 1.85 2 .662 1.2.662 3.03zm-2.9.0705q0-1.09-.381-1.89-.381-.803-1.16-1.31-.677-.437-1.55-.62-.86-.197-2.18-.197h-2.76v8.39h2.35q1.69 0 2.75-.296 1.06-.31 1.72-.973.662-.677.93-1.42.282-.747.282-1.68z"/>
                    </svg>
                </span>
            </div>
        </div>
        <div id="progress-bar-cont">
            <hr id="progress-bar">
        </div>
        <div id="sidebar">
            <div id="search-dropdown" class="dropdown-content">
                <label for="class-select" class="visuallyhidden">Suche nach Klasse, Raum oder Person</label>
                <input id="class-select" placeholder="Suche"/>
                <div id="search-results"></div>
            </div>
            <span id="link-timetable" class="sidebar-link active">Stundenplan</span>
            <span id="link-settings" class="sidebar-link">Einstellungen</span>
            <span id="link-mensa" class="sidebar-link">Mensaplan</span>
            <span id="link-grades" class="sidebar-link">Noten</span>
            <div id="sidebar-bottom">
                <a class="sidebar-link bottom" href="https://discord.gg/wM4Wsts" rel="noopener" target="_blank">Entwicklungs-Discord-Server</a>
                <a class="sidebar-link bottom" href="https://github.com/LetsPlentendo-CH/gymial" rel="noopener" target="_blank">Gymial auf GitHub</a>
            </div>
        </div>
        <div id="panels">
            <div id="panel-timetable">
                <div id="panel-timetable-cont">
                    <noscript>JavaScript wird für diese Website benötigt. Bitte aktiviere es</noscript>
                    <table id="timetable">
                        <tbody>
                        </tbody>
                    </table>
                    <div id="error-timetable">
                        <svg width="125" height="125" viewBox="0 0 180 180">
                            <circle fill="#f44336" cx="90" cy="90" r="80" stroke="white" stroke-width="5" />
                            <path fill="white" d="M77,32L103,32L100,115L80,115Z"></path>
                            <path fill="white" d="M78,129l24,0l0,15l-24,0z"></path>
                        </svg>
                        <span id="error-title">ERROR_TITLE</span>
                        <span id="error-desc">ERROR_DESC</span>
                    </div>
                </div>
            </div>
            <div id="panel-settings">
                <div class="settings-section">
                    <h2 class="settings-section-header">Account (nicht angemeldet)</h2>
                    <button id="login">Melde dich an, um Klassenlisten, Instrumentalstunden und Lehrerstundenpläne zu sehen.</button>
                    <div id="accountinfo">
                        <span id="ownName"></span>
                        <div id="persDetails" style="display: none;">
                            <div id="otherDetails"></div>
                            <button id="persplan">Persönlicher Stundenplan</button>
                            <button id="logout">Abmelden</button>
                        </div>
                    </div>
                </div>
                <div class="settings-section">
                    <h2 class="settings-section-header">Styles</h2>
                    <object class="stylepreview" data="stylepreview.svg" id="styleprevsvg"></object>
                    <div id="stylepicker_cont">
                        <div id="stylepicker">
                        </div>
                    </div>
                </div>
            </div>
            <div id="panel-mensa">
                <table id="mensa-table">
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="panel-grades">
                <p>Gymial Notenrechner</p>
            </div>
        </div>
    </div>
    <div id="margin-details" class="no-transition">
        <div id="details-overlay">
            <span class="icon-x"></span>
            <div id="details_cont">
                <div id="overlay-lesson-tabs"></div>
                <div id="lesson-detail">
                    <p id="room-detail"></p>
                    <p id="teacher-detail"></p>
                    <div id="detail-view">
                        <img width="40" height="40" src="spinner.svg" alt="Loading spinner">
                    </div>
                </div>
            </div>
            <div id="login-window" style="display: none">
                <form id="login-form" method="post" onsubmit="return false">
                    <h3 style="text-align: center; margin-bottom: 20px;">Melde dich an, um Klassenlisten, Instrumentalstunden und Lehrerstundenpläne zu sehen.</h3>
                    <label id="label-user">Name (vorname.nachname)</label>
                    <input id="login-user" autocomplete="username" name="user" type="text" placeholder="Name" aria-labelledby="label-user" required>
        
                    <label id="label-pw">Passwort für das Intranet</label>
                    <input id="login-pw" autocomplete="current-password" name="pass" type="password" placeholder="Passwort" aria-labelledby="label-pw" autocomplete="current-password" required>
        
                    <div id="button-spinner">
                        <span id="invalid-login" style="display: none;">Ungültiges Login!</span>
                        <img width="40" src="spinner.svg" alt="Loading spinner" style="display: none;">
                        <button id="login-submit">Einloggen</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="hint-new-timetable">
        <span>Die neuen Stundenpläne sind jetzt online. Schaue sie dir hier an!</span>
    </div>
    <script src="dist/bundle.js"></script>
</body>
</html>
