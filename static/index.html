<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=0.7, maximum-scale=0.7">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script defer src="https://cdn.jsdelivr.net/npm/js-cookie@rc/dist/js.cookie.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <meta name="description" content="Gymial ist ein open-source Tool, das die Stundenpläne und Mensamenüs der KZO anzeigt.">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="shortcut icon" href="favicon.ico">
    <meta name="theme-color" content="#333">
    <title>Gymial - der open-source KZO Stundenplan</title>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-WYE0MDHZXP"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        if (self.location.hostname == "gymial.ch") {
            gtag('js', new Date());
            gtag('config', 'G-WYE0MDHZXP');
        }
    </script>
</head>
<body>
    <div id="scrollLimiter">
        <div id="selection">
            <span id="open-menu" class="buttonSpan color-svg round-linecap">
                <svg width="30" height="30">
                    <line x1="2" y1="5" x2="28" y2="5"></line>
                    <line x1="2" y1="15" x2="28" y2="15"></line>
                    <line x1="2" y1="25" x2="28" y2="25"></line>
                </svg>
            </span>
            <h1 id="current-class">C6c</h1>
            <div id="week-btns">
                <span id="forward-next-sem" class="buttonSpan color-svg round-linecap" style="display: none;">
                    <svg width="30" height="30">
                        <line x1="28" y1="15" x2="15" y2="5"></line>
                        <line x1="28" y1="15" x2="15" y2="25"></line>
                        <line x1="20" y1="15" x2="7" y2="5"></line>
                        <line x1="20" y1="15" x2="7" y2="25"></line>
                        <line x1="20" y1="15" x2="0" y2="15"></line>
                    </svg>
                </span>
                <span id="week-forward" class="buttonSpan color-svg round-linecap">
                    <svg width="30" height="30">
                        <line x1="28" y1="15" x2="15" y2="5"></line>
                        <line x1="28" y1="15" x2="15" y2="25"></line>
                        <line x1="28" y1="15" x2="0" y2="15"></line>
                    </svg>
                </span>
                <span id="today" class="buttonSpan color-svg">
                    <svg width="30" height="30">
                        <polygon points="28,5 28,29 2,29 2,5 6,5 6,7 4,7 4,27 26,27 26,7 24,7 24,5 "/>
                        <line x1="22" y1="2" x2="22" y2="10"/>
                        <line x1="10" y1="6" x2="20" y2="6"/>
                        <line x1="8" y1="2" x2="8" y2="10"/>
                    </svg>
                </span>
                <span id="week-back" class="buttonSpan color-svg round-linecap">
                    <svg width="30" height="30">
                        <line x1="2" y1="15" x2="15" y2="5"></line>
                        <line x1="2" y1="15" x2="15" y2="25"></line>
                        <line x1="2" y1="15" x2="30" y2="15"></line>
                    </svg>
                </span>
                <span id="backward-next-sem" class="buttonSpan color-svg round-linecap" style="display: none;">
                    <svg width="30" height="30">
                        <line x1="2" y1="15" x2="15" y2="5"></line>
                        <line x1="2" y1="15" x2="15" y2="25"></line>
                        <line x1="10" y1="15" x2="23" y2="5"></line>
                        <line x1="10" y1="15" x2="23" y2="25"></line>
                        <line x1="10" y1="15" x2="30" y2="15"></line>
                    </svg>
                </span>
                <span id="switch-matura-calc" class="buttonSpan" style="display: none;">
                    <svg width="30" height="30">
                        <rect x="5" y="5" width="18" height="23" stroke="#000" fill="#fff" />
                        <path d="m 19 8.1 -2.2 5 2 -0.25 1 1.5 1.8 -5" stroke="#000" fill="#fff" />
                        <path d="m 26 8.1 2.2 5 -2 -0.25 -1 1.5 -1.8 -5" stroke="#000" fill="#fff" />
                        <path stroke="#000" fill="#fff" d="m27 7c-0.172 0.516-0.979 0.422-1.29 0.869-0.311 0.447 0.0593 1.17-0.365 1.51-0.424 0.341-1.05-0.175-1.55 0.0335s-0.583 1.02-1.12 1.07c-0.541 0.0579-0.791-0.716-1.33-0.812s-1.04 0.54-1.53 0.296c-0.487-0.244-0.278-1.03-0.676-1.4-0.398-0.371-1.17-0.108-1.44-0.576-0.278-0.468 0.322-1.02 0.188-1.54-0.134-0.527-0.923-0.722-0.904-1.27 0.0197-0.544 0.821-0.681 0.993-1.2 0.172-0.516-0.387-1.11-0.0761-1.55 0.311-0.447 1.06-0.129 1.48-0.47 0.424-0.341 0.273-1.14 0.776-1.35s0.96 0.464 1.5 0.406c0.541-0.0579 0.846-0.811 1.38-0.714 0.536 0.0969 0.557 0.909 1.04 1.15 0.487 0.244 1.15-0.225 1.55 0.146 0.398 0.371-0.0231 1.07 0.254 1.53 0.278 0.468 1.09 0.432 1.22 0.96 0.134 0.527-0.596 0.884-0.615 1.43-0.0197 0.544 0.683 0.953 0.511 1.47z" />
                        <circle cx="22.1" cy="5.3" stroke="#000" fill="none" r="2.5" />
                        <line x1="7" y1="8" x2="14" y2="8" stroke="#000" />
                        <line x1="7" y1="11" x2="15" y2="11" stroke="#000" />
                      
                        <line x1="7" y1="17" x2="13" y2="17" stroke="#000" />
                        <line x1="18" y1="17" x2="20" y2="17" stroke="#000" />
                        
                        <line x1="7" y1="20" x2="14" y2="20" stroke="#000" />
                        <line x1="18" y1="20" x2="20" y2="20" stroke="#000" />
                      
                        <line x1="7" y1="23" x2="15" y2="23" stroke="#000" />
                        <line x1="18" y1="23" x2="20" y2="23" stroke="#000" />
                      </svg>
                </span>
                <span id="switch-grade-calc" class="buttonSpan" style="display: none;">
                    <svg width="30" height="30">
                        <rect x="7" y="5" width="16" height="22" stroke="#000" fill="#fff" />
                        <polygon points="7,5 21,1.5 21,24.5 7,27" stroke="#000" fill="#fff"/>
                        <ellipse cx="13.6" cy="11" rx="5" ry="2.5" transform="skewY(-10)" stroke="#000" fill="#fff" />
                        <line x1="10" y1="8" x2="18" y2="8" stroke="#000" />
                        <line x1="10" y1="10" x2="16" y2="10" stroke="#000" />
                    </svg>
                </span>
                <span id="grade-pluspoints" class="buttonSpan" style="display: none;">
                    <svg width="30" height="30">
                        <path d="m6.86 21.3h2.45v-4.93h4.59v-2.2h-4.59v-4.96h-2.45v4.96h-4.59v2.2h4.59z"/>
                        <path d="m15 25.9h2.45v-9.28h4.06c0.694 0 1.38-0.0817 2.05-0.245 0.694-0.163 1.33-0.439 1.9-0.827 0.592-0.408 1.08-0.908 1.47-1.5 0.388-0.612 0.653-1.27 0.796-1.96s0.214-1.39 0.214-2.08c0-0.694-0.0714-1.39-0.214-2.08-0.143-0.694-0.408-1.34-0.796-1.93-0.388-0.612-0.878-1.11-1.47-1.5-0.572-0.408-1.2-0.694-1.9-0.857-0.674-0.163-1.36-0.245-2.05-0.245h-6.51zm2.45-11.5v-8.82h4.06c0.551 0 1.09 0.102 1.62 0.306 0.551 0.184 1.01 0.5 1.38 0.949 0.367 0.429 0.623 0.919 0.766 1.47s0.214 1.11 0.214 1.68c0 0.572-0.0714 1.13-0.214 1.68-0.143 0.551-0.398 1.05-0.766 1.5-0.367 0.429-0.827 0.745-1.38 0.949-0.531 0.184-1.07 0.276-1.62 0.276z"/>
                    </svg>
                </span>
            </div>
        </div>
        <div id="progress-bar-cont">
            <hr id="progress-bar">
        </div>
        <div id="sidebar">
            <div id="search-dropdown" class="dropdown-content">
                <label for="class-select" class="visuallyhidden">Suche nach Klasse, Raum oder Person</label>
                <input id="class-select" placeholder="Suche"/>
                <div id="search-results"></div>
            </div>
            <span id="link-timetable" class="sidebar-link active">Stundenplan</span>
            <span id="link-settings" class="sidebar-link">Einstellungen</span>
            <span id="link-mensa" class="sidebar-link">Mensaplan</span>
            <span id="link-grades" class="sidebar-link">Noten</span>
            <div id="sidebar-bottom">
                <a class="sidebar-link bottom" href="https://discord.gg/wM4Wsts" rel="noopener" target="_blank">Entwicklungs-Discord-Server</a>
                <a class="sidebar-link bottom" href="https://github.com/LetsPlentendo-CH/gymial" rel="noopener" target="_blank">Gymial auf GitHub</a>
            </div>
        </div>
        <div id="panels">
            <div id="panel-timetable">
                <noscript>JavaScript wird für diese Website benötigt. Bitte aktiviere es</noscript>
                <table id="timetable">
                    <tbody>
                    </tbody>
                </table>
                <div id="error-timetable">
                    <svg width="125" height="125" viewBox="0 0 180 180">
                        <circle fill="#f44336" cx="90" cy="90" r="80" stroke="white" stroke-width="5" />
                        <path fill="white" d="M77,32L103,32L100,115L80,115Z"></path>
                        <path fill="white" d="M78,129l24,0l0,15l-24,0z"></path>
                    </svg>
                    <span id="error-title">ERROR_TITLE</span>
                    <span id="error-desc">ERROR_DESC</span>
                </div>
            </div>
            <div id="panel-settings">
                <div class="settings-section">
                    <h2 class="settings-section-header">Account (nicht angemeldet)</h2>
                    <button id="login">Melde dich an, um Klassenlisten, Instrumentalstunden und Lehrerstundenpläne zu sehen.</button>
                    <div id="accountinfo">
                        <span id="ownName"></span>
                        <div id="persDetails" style="display: none;">
                            <div id="otherDetails"></div>
                            <button id="persplan">Persönlicher Stundenplan</button>
                            <button id="logout">Abmelden</button>
                        </div>
                    </div>
                </div>
                <div class="settings-section">
                    <h2 class="settings-section-header">Styles</h2>
                    <object class="stylepreview" data="stylepreview.svg" id="styleprevsvg"></object>
                    <div id="stylepicker_cont">
                        <div id="stylepicker">
                        </div>
                    </div>
                </div>
            </div>
            <div id="panel-mensa">
                <table id="mensa-table">
                    <tbody>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div id="panel-grades">
                <p>Gymial Notenrechner</p>
            </div>
        </div>
    </div>
    <div id="margin-details" class="no-transition">
        <div id="details-overlay">
            <span class="icon-x"></span>
            <div id="details_cont">
                <div id="overlay-lesson-tabs"></div>
                <div id="lesson-detail">
                    <p id="room-detail"></p>
                    <p id="teacher-detail"></p>
                    <div id="detail-view">
                        <img width="40" height="40" src="spinner.svg" alt="Loading spinner">
                    </div>
                </div>
            </div>
            <div id="login-window" style="display: none">
                <form id="login-form" method="post" onsubmit="return false">
                    <h3 style="text-align: center; margin-bottom: 20px;">Melde dich an, um Klassenlisten, Instrumentalstunden und Lehrerstundenpläne zu sehen.</h3>
                    <label id="label-user">Name (vorname.nachname)</label>
                    <input id="login-user" autocomplete="username" name="user" type="text" placeholder="Name" aria-labelledby="label-user" required>
        
                    <label id="label-pw">Passwort für das Intranet</label>
                    <input id="login-pw" autocomplete="current-password" name="pass" type="password" placeholder="Passwort" aria-labelledby="label-pw" autocomplete="current-password" required>
        
                    <div id="button-spinner">
                        <span id="invalid-login" style="display: none;">Ungültiges Login!</span>
                        <img width="40" src="spinner.svg" alt="Loading spinner" style="display: none;">
                        <button id="login-submit">Einloggen</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="hint-new-timetable">
        <span>Die neuen Stundenpläne sind jetzt online. Schaue sie dir hier an!</span>
    </div>
    <script src="dist/bundle.js"></script>
</body>
</html>
